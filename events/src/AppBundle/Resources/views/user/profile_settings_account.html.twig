{% extends 'AppBundle::main_base.html.twig' %}

{% block title %}Bilgilerim{% endblock %}


{% block content %}

    <!-- --------------------------------------------- -->
    <!-- ------------------ CONTENT ------------------ -->
    <!-- --------------------------------------------- -->

    <section class="guppy-section align-center">
        <div class="container">

            <!-- -------------- SIDEBAR -------------- -->
            {{ include('AppBundle:user:profile_sidebar.html.twig') }}


            <!-- -------------- CONTENT -------------- -->
            <div class="community-content col-md-10">

                <div class="profile-content-header"></div>

                <div class="profile-content-body">
                    <div class="fade active in">

                        <div class="col-sm-8 align-left">
                            <h6>Hesap İşlemleri</h6>

                            <div>
                                <form action="{{ path('user_profile_password') }}" method="post">

                                    <div class="col-sm-6 col-md-5 align-left">
                                        <fieldset>
                                            <label for="username">Kullanıcı adı</label>
                                            <div class="fieldset-input-panel">
                                                <input id="username" name="username" type="text" value="{{ app.user.username }}" disabled>
                                            </div>
                                        </fieldset>

                                        <fieldset>
                                            <label for="email">Birincil Mail Adresi</label>
                                            <div class="fieldset-input-panel">
                                                <input id="email" name="email" type="email" value="{{ app.user.email }}" disabled>
                                            </div>
                                        </fieldset>

                                        <fieldset>
                                            <label for="uname" >İsminiz</label>
                                            <div class="fieldset-input-panel">
                                                <input id="uname" name="uname" type="text" value="{{ app.user.name }}" disabled >
                                            </div>
                                            <div class="fieldset-edit-panel">
                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                            </div>
                                        </fieldset>

                                        <fieldset>
                                            <label for="usurname">Soyisminiz</label>
                                            <div class="fieldset-input-panel">
                                                <input id="usurname" name="usurname" type="text" value="{{ app.user.surname }}" disabled>
                                            </div>
                                            <div class="fieldset-edit-panel">
                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                            </div>
                                        </fieldset>

                                        <fieldset>
                                            <label for="uphone">Cep Numaranız</label>
                                            <div class="fieldset-input-panel">
                                                <input id="uphone" name="uphone" type="tel" value="{{ app.user.phone }}" disabled>
                                            </div>
                                            <div class="fieldset-edit-panel">
                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                            </div>
                                        </fieldset>

                                    </div>

                                    <fieldset class="col-sm-12">
                                        <input type="submit" class="btn btn-rounded btn-sm" value="Kaydet">
                                    </fieldset>
                                </form>
                            </div>

                        </div>

                        <div class="col-sm-4 align-left">
                            <h6>&nbsp;</h6>

                            {#<div>#}
                                {#<form action="{{ path('user_profile_password') }}" method="post">#}

                                    {#<div class="col-sm-6 col-md-5 align-left">#}
                                        {#<fieldset>#}
                                            {#<label for="cc">Eski Şifreniz</label>#}
                                            {#<input id="cc" name="cc" type="password">#}
                                        {#</fieldset>#}

                                        {#<fieldset>#}
                                            {#<label for="bb">Yeni Şifreniz</label>#}
                                            {#<input id="bb" name="bb" type="password">#}
                                        {#</fieldset>#}

                                        {#<fieldset>#}
                                            {#<label for="aa">Yeni Şifreniz Tekrar</label>#}
                                            {#<input id="aa" name="aa" type="password">#}
                                        {#</fieldset>#}

                                    {#</div>#}

                                    {#<fieldset class="col-sm-12">#}
                                        {#<input type="submit" class="btn btn-rounded btn-sm" value="Kaydet">#}
                                    {#</fieldset>#}
                                {#</form>#}
                            {#</div>#}

                        </div>

                    </div>

                </div><!-- community-content-body end -->

            </div>
        </div>
    </section>


{% endblock %}





{% block javascriptcontent %}
    <script>

/***********************************************************************************************************************
 *                                          LOCAL VARIABLE
 **********************************************************************************************************************/
        var debugMode = true;
        var error_msg = '{% if error_msg is defined %}{{ error_msg|json_encode|raw }}{% endif %}';
        var success_msg = '{% if success_msg is defined %}{{ success_msg|json_encode|raw }}{% endif %}';

/***********************************************************************************************************************
 *                                          UTIL FUNCTIONS
 **********************************************************************************************************************/


/***********************************************************************************************************************
 *                                          AJAX OPERATIONS
 **********************************************************************************************************************/


/***********************************************************************************************************************
 *                                          EVENTS
 **********************************************************************************************************************/

        $(document).on('click' , 'fieldset .fa-pencil-square-o' , function (event){
            $inputElement = $(event.target).parentsUntil('fieldset').last().parent().find('.fieldset-input-panel>input');
            $inputElement.attr('disabled',false);
            $inputElement.trigger( "focus" );
        });

        $(document).on('focusout', '.fieldset-input-panel>input' , function (event) {
            $(event.target).attr('disabled',true);
        });

/***********************************************************************************************************************
 *                                          DOCUMENT ON READY
 **********************************************************************************************************************/

        // -- Operation Result Message
        if(success_msg){
            toastr.success(success_msg);
        }else if(error_msg){
            toastr.error(error_msg);
        }

    </script>

{% endblock %}

